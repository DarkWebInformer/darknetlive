
<!-- Mirrored from darknetlive.com/post/versus-pauses-operations-to-audit-security-2c1e9478 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 05 Mar 2024 21:28:46 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1"/><title>Versus Pauses Operations to Audit Security | Darknetlive</title><meta name="description" content="Versus Market, a “security driven marketplace,” entered maintenance to conduct a security audit in response to a recent concern involving an IP address leak."/><link rel="icon" href="../favicon.ico" sizes="any"/><meta http-equiv="onion-location" content="http://darknetlidvrsli6iso7my54rjayjursyw637aypb6qambkoepmyq2yd.onion/"/><link rel="sitemap" href="../sitemap-index.xml" type="application/xml"/><meta name="language" content="English"/><link rel="stylesheet" href="../css/styles.min.css"/></head><body><nav><a class="logo" href="../index.html"><div><img src="../logo.png" width="40" height="40"/><img src="../logo.png" width="40" height="40"/></div><label>DarkNetLive</label></a><hr/><div class="menu"><a href="../about.html">About / Contact</a><a href="../markets.html">Darknet Markets</a><a href="../onions.html">Onion Links</a><a href="../tags.html">Article Tags</a></div><form class="search" method="get" action="https://duckduckgo.com/" target="_blank"><div class="search-box"><input type="hidden" name="sites" value="darknetlive.com"/><input type="text" name="q" placeholder="Search…"/></div><button type="submit"><img src="../search.png" width="24" height="24"/></button></form></nav><div class="breadcrumb"><div><a href="../index.html">Home</a></div><div><a href="../index.html">Posts</a></div><div><label>This Page</label><label>Versus Pauses Operations to Audit Security</label></div></div><main><h1>Versus Pauses Operations to Audit Security</h1><div class="note mt-2">~3 min read | Published on 2020-03-21, tagged&nbsp;<a class="link" href="../tags/Darkweb-Market.html">Darkweb-Market</a>,&nbsp;<a class="link" href="../tags/General-News.html">General-News</a> using 652 words.</div><hr/><div class="bbcode">Versus Market, a “security driven marketplace,” entered maintenance to conduct a security audit in response to a recent concern involving an IP address leak. The leak, according to the market, is not an issue for Versus users.<br>Updated on March 24 to add a statement from Versus.<br>Yesterday, Versus staff /u/WilliamGibson <a class="link" href="http://dreadditevelidot.onion/post/7b9a6f2f1e642176abcb/" target="_blank">posted an announcement</a> in the Versus subdread concerning the “potential IP leak” as well as the related downtime:<br>We received reports of a potential IP leak from one of our middleware server and decided to shut the market down temporarily to investigate the issue before any damage is done.<br><br>The affected server has been added recently during the ddos and is not a backend server. It has been wiped and abandoned for security reasons.<br><br>I don’t want to cause any panic and can assure you that I only post this for transparency.<br><br>The market will be running as usual after we made sure there are no other leaks in max 12 hours until 11:00 UTC.<br><br>Please excuse the inconvenience caused and rest assured no userdata or any critical information in general has been leaked.<br><br>An individual operating under the username “BenedictParchezzi” is responsible for discovering the IP address of one of Versus Market’s middleware servers. BenedictParchezzi made the discovery after targeting the market with a DDoS attack. According to the attacker, Versus handled the disclosure “honestly.”<br>[img=]The attacker discovered the IP address after hitting the market with a DDoS attack[/img]<br><br>If the announcement from Versus staff is accurate, the issue is relatively minor. An administrator of a different marketplace described the incident as “not good, but not that bad either.”<br>Update from /u/WilliamGibson:<br><span class="font-bold">What happened?</span><br>A few days ago a DDOS against Versus started.<br><br>The application layer of Versus is very strong, so it was tor failing sometimes.<br><br>The attacker found an application layer vulnerability by requesting non existing captcha images. This lead to a lot of useless file IO and exhausted the main server resources.<br><br>Changing the captcha system isn’t a quick fix, so we deployed a custom middle-ware on the tor fronted servers to deliver the captchas and filter bad traffic before it even gets to the main server.<br><br>To further improve the resistance of Versus we did a V3 load balancing test.<br><br>To not have to apply the middle-ware to all servers for this test, it was moved to a single server in the same DC the tor front-end servers.<br><br>The plan was to use one middle-ware server for every balanced mirror, not every tor instance.<br><br>A bad decision lead to an IP leak of the middle-ware server.<br><br>Versus was down for about 14 hours to move our complete infrastructure to other hosts. From every DC, not just the compromised one.<br><br>Some additional errors then popped up because bitcoin-core, monero-core and our database got updated to the most recent version.<br><br><span class="font-bold">How we fucked up.</span><br>A trace route showed a perfect loop-back on the middle-ware server IP so the request was routed there via IP as nothing would go beyond the first router.<br><br>THIS WAS A BAD DECISION MADE AFTER NEARLY 3 DAYS WITH NEXT TO NO SLEEP.<br><br>The middle-ware gets the onion and adds it to a custom header so that we see from which mirror the request is coming from, but instead of extracting the onion, it extracted the IP from the request (it’s own) and added it to the header.<br><br>The main server used this header to generate the 2FA message where the IP was shown.<br><br><span class="font-bold">What we did to avoid such stupid mistakes in the future.</span><br>The middle-ware was fixed to extract to correct onion under any circumstances.<br><br>The display of the hostname gets validated via regex.<br><br>There is no more routing via IP. The middle-ware will run on every single tor instance. The routing to the back-end server is also over Tor.<br><br>Additionally we checked the source to look for any other instance where the hostname/custom header might show up. Nothing was found.<br><br>This multiple layers of security will make sure, that even a bad decisions under sleep deprivation will not lead to such an event again.<br><br></div></main><div class="footer"><div><label class="btn-donate" for="donate">Donate</label><a class="link-blk" href="../pgp.txt" target="_blank">PGP Key</a><a class="link-blk" href="../mirrors.txt" target="_blank">Mirrors</a><a class="link-blk" href="../canary.txt" target="_blank">Canary</a><a class="link-blk" href="../about.html" target="_blank">Contact</a><a class="link-blk" href="../index.xml">RSS</a><a class="link-blk" href="../atom.xml">Atom</a><a class="link-blk" href="../index.json">JSON</a></div><hr/><p>DarkNetLive&copy;2023</p></div><input id="donate" type="checkbox" hidden=""/><div class="donate"><div class="outer"><h2>Donate</h2><label for="donate">[&times;]</label><div class="inner"><img src="../qr-btc.png"/><div><label>Bitcoin(BTC):</label><p readonly="">bc1q3x54q4arhut3tgat90cxdhfjtdpa0ermy0qshz</p></div></div><div class="inner"><img src="../qr-xmr.png"/><div><label>Monero(XMR):</label><p readonly="">866BTBpKj16MeWdGjvSRwm2CfEQfUitzQQmFYoCna6F5fw9mCBzXw3sfNUo4R7MnLsPBhTjurrt8DYjBYPo3ZqdxKP6eC5f</p></div></div></div></div></body>